<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jdbc="http://www.springframework.org/schema/jdbc"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/jdbc
        http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

	<import resource="classpath:amla-config.xml"/>

	<bean id="applicationProperties" class="org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer">
		<description>
		This property configuration bean is given an ID, so that service contexts
		can use it for any property values that need to be defined.
		</description>
		<property name="location" value="test-application.properties" />
	</bean>
	
   <jdbc:embedded-database id="myDataSource" type="HSQL">
       	<jdbc:script location="classpath:ddl/amla/create-transaction-log-table.sql"/>
       <jdbc:script location="classpath:ddl/amla/create-customer-account-table.sql"/>
       <jdbc:script location="classpath:ddl/amla/create-account-log-table.sql"/>
     	<jdbc:script location="classpath:ddl/amla/insert_audit_log_test_data.sql"/>
    </jdbc:embedded-database>
    
    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
		<constructor-arg name="dataSource" ref="myDataSource"/>
    </bean>

</beans>